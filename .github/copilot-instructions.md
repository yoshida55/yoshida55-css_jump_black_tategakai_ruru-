# プロジェクト実装ガイド（GitHub Copilot 参照用）

このディレクトリには、本プロジェクトのコーディング規約と実装ノウハウが蓄積されています。
Copilot は実装提案を行う際、以下のファイルを文脈（Context）として優先的に参照してください。

## ■ 参照すべきルールファイル
1.  **[01_rules.md](./01_rules（基本ルール・設計思想）.md)** : 設計思想、クラス命名、セマンティクス（dl/dt/dd等）。
2.  **[02_layouts.md](./02_layouts.md)** : 具体的な実装コード（縦書き、背景画像、Flexbox）。
3.  **[03_mistakes.md](./03_mistakes.md)** : 過去の失敗パターンと回避策。

---
## ⚠️ 【全回答共通】コード生成・修正時の必須確認事項（最優先）

**以下の項目は、質問内容・スクリーンショットの有無に関わらず、HTML/CSS に関わる回答をする際は必ず確認すること**

### 1. Flexbox を使用・修正する場合
□ 親要素に `align-items` の明示的な指定があるか？
   - **指定がない場合、初期値 `stretch` により子要素の高さが勝手に引き伸ばされる**
   - **対策**: 親に `align-items: flex-start;` を追加

### 2. `absolute` を使用・修正する場合
□ 配置の基準となる親要素に `position: relative;` があるか？
   - **ない場合、画面全体（body）を基準に配置され、レイアウトが崩壊する**
   - **対策**: 基準にしたい親要素に `position: relative;` を追加

### 3. インライン要素（`a` / `span`）に余白・サイズを指定する場合
□ `display: block` または `inline-block` が指定されているか？
   - **インライン要素のままでは `margin` / `width` / `height` が無視される**
   - **対策**: 該当要素に `display: block;` を追加

### 4. 背景画像（`background-image`）を使用する場合
□ CSS のパスが `../img/` から始まっているか？
   - **CSS ファイルから見た相対パスは HTML と異なる**
   - **対策**: `url("../img/...")` の形式で指定

### 5. 縦書き（`writing-mode`）を使用する場合
□ **親要素に `writing-mode` を指定していないか？**
   - **親に指定すると Flexbox の軸も回転し、配置が崩壊する**
   - **対策**: 親は `flex-direction: row-reverse;` のみ、子要素のテキストにのみ `writing-mode: vertical-rl;` を指定

**【重要】これらの確認を怠ると、03_mistakes.md に記載された過去の失敗パターンを繰り返すことになります**

**【自己申告の義務】回答の最後に、必ず「上記の必須確認事項（Flexbox, Absolute, Inline, Path, Writing-mode）をすべてチェック済みであること」を宣言してください。**




## ■ AI（Copilot）への指示出しテンプレート

実装を依頼する際は、以下のフォーマットを使用すること。

### 【基本プロンプト構成】
1.  **セクションの画像**: 1画面に収まる範囲のスクリーンショットを貼る。
2.  **素材（アセット）**: 使用する画像ファイル名（例：`img/ice-cream.jpg`）。
3.  **構造の指定**: こだわりたいポイントを明記する。
    * 例：「ニュースリストは `dl/dt/dd` で作成して」
    * 例：「タイトルは `h2` の中に `span` で日/英を分けて」

### 【トラブルシューティング指示】
* **Prettier/整形エラー**:
    * タグが崩れて Prettier が効かなくなった場合は、自力で直さず以下のプロンプトを投げる。
    * `「タグの構造がおかしいので、正しいインデントに整形して修正してください」`

---

## ■ 本プロジェクト特有の厳守事項

### 1. レイアウト
* **配置**: `absolute` は親要素（カード全体など）の `relative` に対してのみ使用し、多用しない。基本は `flex` の流れで作る。
* **縦書き**: 親要素ごと縦書きにしない。親は `flex-direction: row-reverse`、子要素のテキストのみ `writing-mode: vertical-rl` を指定する。

### 2. レスポンシブ
* **フォントサイズ**: `1400px` を基準とした `calc` 計算式（`02_layouts.md`参照）を使用する。
* **画像サイズ**: `%` 指定をする場合は、必ず `max-width` (rem) も併記してカンプのサイズを超えないようにする。

### 3. HTML構文
* 見出しタグ（`h1`~`h6`）の中に `div` を入れない。
* ニュースリストは `ul/li` ではなく `dl/dt/dd` を使用する。





✅ GitHub Copilot 実装チェックリスト（必須）

※ 実装提案・コード生成の前後で、必ず全項目を確認すること
※ 1つでも未確認がある場合は「未完成」と判断する

## 0. 症状の確認（スクリーンショットがある場合・最優先）

**【必須】以下の質問に YES/NO で答え、YESの場合は必ず対策を実行すること**

 □ 1. **要素が親の範囲を超えてはみ出しているか？**
   → YES の場合: Flexbox の `align-items: stretch`（初期値）が原因
   → **対策**: 親要素に `align-items: flex-start` を追加

 □ 2. **`absolute` の要素が画面外に飛んでいるか？**
   → YES の場合: 親に `position: relative` がない
   → **対策**: 基準にしたい親要素に `position: relative` を追加

 □ 3. **`margin` や `width` が効いていないか？**
   → YES の場合: 対象がインライン要素（`a` / `span`）である
   → **対策**: `display: block` または `inline-block` を追加

**【重要】この3項目をチェックせずにコード生成した場合、必ず生成後に確認すること**



0. 参照ファイルの確認（最優先）

 01_rules.md（基本ルール・設計思想） を参照しているか 

01_rules（基本ルール・設計思想）

 02_layouts.md（配置・実装パターン） を参照しているか 

02_layouts

 03_mistakes.md（過去の失敗・罠） を考慮しているか 

03_mistakes

1. レイアウト設計の思想チェック（01_rules）
■ absolute の扱い

 absolute を多用していない

 absolute を使う場合、必ず親に position: relative がある

 座標（top / left）で無理やり配置していない
→ できる限り flex / writing-mode で自然配置している 

01_rules（基本ルール・設計思想）

■ Flex と writing-mode の役割分離

 親要素に writing-mode を指定していない

 親は「配置（flex）」のみを担当している

 縦書きは 子要素のテキストのみに指定している 

02_layouts

2. HTML 構造・セマンティクスチェック（01_rules）
■ 見出しタグ（h1〜h6）

 見出しの中に div を入れていない

 見出しの中身は span / a のみ

 日本語・英語は span で分けている 

01_rules（基本ルール・設計思想）

■ ニュース・お知らせ構造

 ul / li を使っていない

 dl / dt / dd を使っている

 dl > div > dt + dd の構造になっている 

01_rules（基本ルール・設計思想）

■ nav タグ

 nav を乱用していない

 メインメニューのみ nav を使用している

3. クラス設計・命名チェック（01_rules）

 クラス名を省略していない

 タグ名と同じクラス名を使っていない

 a タグにも必ずクラス名が付いている

 「何の・どの役割か」が名前から分かる

4. CSS 実装チェック（02_layouts）
■ Flexbox の基本

 子が1つしかないのに flex を使っていない

 align-items: stretch の影響を理解している

 画像が勝手に伸びる場合、align-items: flex-start を使っている 

03_mistakes

■ インライン要素

 a / span に margin や width を指定する場合
display: block または inline-block を指定している 

01_rules（基本ルール・設計思想）

5. 背景画像・パス管理チェック（03_mistakes）

 CSS の background-image は ../img/ になっている

 HTML の src と CSS の url を混同していない 

03_mistakes

6. Wrapper・最大幅チェック（03_mistakes）

 デザインカンプの最大幅（例：1400px）を確認した

 昔の癖で 1200px などにしていない

 max-width をカンプ基準で設定している 

03_mistakes

7. フォントサイズ・レスポンシブチェック（02_layouts）

 html に基準フォントサイズの計算式がある

 1400px 基準の calc を使用している

 min() を使って暴走を防いでいる 

02_layouts

8. % 指定の安全確認（02_layouts）

 width: % を使う場合、max-width を併用している

 カンプサイズを超えない設計になっている 

02_layouts

9. 縦書きレイアウト最終確認（02 + 03）

 親に writing-mode を指定していない

 flex-direction: row-reverse で並びを制御している

 文字方向のみ writing-mode を指定している 

02_layouts

10. Prettier・整形トラブル時の対応（03_mistakes）

 自力で直そうとしていない

 Copilot に「構造を直して整形して」と依頼する方針になっている 

03_mistakes

11. 思考・作業姿勢チェック（重要）

 1px単位で位置調整を始めていない

 ネガティブマージンに逃げていない

 「頑張って配置」ではなく「勝手に並ぶ設計」を選んでいる 

01_rules（基本ルール・設計思想）

✅ 最終ルール（Copilot 用）

このチェックリストに 1項目でも未確認がある場合、コードは完成扱いにしない